- op: add
  path: /webhooks/0/matchConditions
  value:
  - name: "ignore-subresources"
    expression: "(!has(request.subResource) || request.subResource == '')"
  - name: "require-argocd-annotation"
    expression: "has(object.metadata) && has(object.metadata.annotations) && 'argocd.argoproj.io/tracking-id' in object.metadata.annotations"
  - name: "allow-governance-requests"
    expression: "!has(request.userInfo) || !has(request.userInfo.username) || (request.userInfo.username != 'system:serviceaccount:system:controller-controller-manager')"
    # config/default/kustomization.yaml
    #   namePrefix: controller-
    # config/manager/manager.yaml
    #   serviceAccountName: controller-manager
    #   namespace: system
    ## ServiceAccount = namePrefix + serviceAccountName = controller-controller-manager
    ## final-service-account = system:serviceaccount:<namespace>:<namePrefix><serviceAccountName> = system:serviceaccount:system:controller-controller-manager