### INIT ###
kubectl create namespace perf-ns-init-1
kubectl create namespace perf-ns-init-2
kubectl create namespace perf-ns-init-3
kubectl apply -f - <<'EOF'
apiVersion: apps/v1
kind: Deployment
metadata:
  name: perf-deploy-1
  namespace: perf-ns-init-1
spec:
  replicas: 1
  selector:
    matchLabels:
      app: perf-deploy-1
  template:
    metadata:
      labels:
        app: perf-deploy-1
    spec:
      containers:
      - name: busybox
        image: busybox:1.36
        command: ["sleep", "7200"]
EOF
kubectl apply -f - <<'EOF'
apiVersion: apps/v1
kind: Deployment
metadata:
  name: perf-deploy-2
  namespace: perf-ns-init-2
spec:
  replicas: 1
  selector:
    matchLabels:
      app: perf-deploy-2
  template:
    metadata:
      labels:
        app: perf-deploy-2
    spec:
      containers:
      - name: busybox
        image: busybox:1.36
        command: ["sleep", "7200"]
EOF
kubectl apply -f - <<'EOF'
apiVersion: apps/v1
kind: Deployment
metadata:
  name: perf-deploy-3
  namespace: perf-ns-init-3
spec:
  replicas: 1
  selector:
    matchLabels:
      app: perf-deploy-3
  template:
    metadata:
      labels:
        app: perf-deploy-3
    spec:
      containers:
      - name: busybox
        image: busybox:1.36
        command: ["sleep", "7200"]
EOF
kubectl create configmap perf-cm-1 -n perf-ns-init-1 --from-literal=key=value
kubectl create configmap perf-cm-2 -n perf-ns-init-2 --from-literal=key=value
kubectl create configmap perf-cm-3 -n perf-ns-init-3 --from-literal=key=value
### MAIN ###
kubectl apply -f - <<'EOF'
apiVersion: apps/v1
kind: Deployment
metadata:
  name: perf-deploy-4
  namespace: perf-ns-init-3
spec:
  replicas: 1
  selector:
    matchLabels:
      app: perf-deploy-4
  template:
    metadata:
      labels:
        app: perf-deploy-4
    spec:
      containers:
      - name: busybox
        image: busybox:1.36
        command: ["sleep", "7200"]
EOF
kubectl apply -f - <<'EOF'
apiVersion: apps/v1
kind: Deployment
metadata:
  name: perf-deploy-5
  namespace: perf-ns-init-2
spec:
  replicas: 1
  selector:
    matchLabels:
      app: perf-deploy-5
  template:
    metadata:
      labels:
        app: perf-deploy-5
    spec:
      containers:
      - name: busybox
        image: busybox:1.36
        command: ["sleep", "7200"]
EOF
kubectl get namespace perf-ns-init-1
kubectl get configmap perf-cm-2 -n perf-ns-init-2
kubectl get deployment perf-deploy-5 -n perf-ns-init-2
kubectl get configmap perf-cm-3 -n perf-ns-init-3
kubectl get configmap perf-cm-2 -n perf-ns-init-2
kubectl annotate namespace perf-ns-init-1 perf-test/ts="1653496450233696296" --overwrite
kubectl get configmap perf-cm-1 -n perf-ns-init-1
kubectl get namespace perf-ns-init-3
kubectl get deployment perf-deploy-1 -n perf-ns-init-1
kubectl get deployment perf-deploy-3 -n perf-ns-init-3
kubectl get deployment perf-deploy-1 -n perf-ns-init-1
kubectl get configmap perf-cm-2 -n perf-ns-init-2
kubectl get namespace perf-ns-init-1
kubectl get deployment perf-deploy-1 -n perf-ns-init-1
kubectl get configmap perf-cm-3 -n perf-ns-init-3
kubectl annotate deployment perf-deploy-5 -n perf-ns-init-2 perf-test/ts="2426665735999355798" --overwrite
kubectl get namespace perf-ns-init-1
kubectl get configmap non-existing-resource-xyz -n perf-ns-init-3
kubectl annotate namespace perf-ns-init-2 perf-test/ts="8450068489073403983" --overwrite
kubectl get deployment perf-deploy-3 -n perf-ns-init-3
kubectl get deployment perf-deploy-1 -n perf-ns-init-1
kubectl get namespace perf-ns-init-1
kubectl get deployment perf-deploy-3 -n perf-ns-init-3
kubectl get configmap perf-cm-1 -n perf-ns-init-1
kubectl get configmap perf-cm-3 -n perf-ns-init-3
kubectl get deployment perf-deploy-4 -n perf-ns-init-3
kubectl create configmap perf-cm-4 -n perf-ns-init-3 --from-literal=key=value
kubectl delete deployment perf-deploy-3 -n perf-ns-init-3 --wait=false
kubectl get namespace perf-ns-init-1
kubectl get configmap perf-cm-3 -n perf-ns-init-3
kubectl delete deployment perf-deploy-1 -n perf-ns-init-1 --wait=false
kubectl get configmap non-existing-resource-xyz -n perf-ns-init-3
kubectl get configmap perf-cm-4 -n perf-ns-init-3
kubectl get deployment perf-deploy-5 -n perf-ns-init-2
kubectl get configmap perf-cm-3 -n perf-ns-init-3
kubectl get configmap perf-cm-2 -n perf-ns-init-2
kubectl annotate configmap perf-cm-2 -n perf-ns-init-2 perf-test/ts="121451858975140092" --overwrite
kubectl get deployment perf-deploy-2 -n perf-ns-init-2
kubectl get deployment perf-deploy-4 -n perf-ns-init-3
kubectl get configmap non-existing-resource-xyz -n perf-ns-init-1
kubectl apply -f - <<'EOF'
apiVersion: apps/v1
kind: Deployment
metadata:
  name: perf-deploy-6
  namespace: perf-ns-init-3
spec:
  replicas: 1
  selector:
    matchLabels:
      app: perf-deploy-6
  template:
    metadata:
      labels:
        app: perf-deploy-6
    spec:
      containers:
      - name: busybox
        image: busybox:1.36
        command: ["sleep", "7200"]
EOF
kubectl get deployment perf-deploy-6 -n perf-ns-init-3
kubectl get deployment perf-deploy-4 -n perf-ns-init-3
kubectl get deployment perf-deploy-4 -n perf-ns-init-3
kubectl get configmap perf-cm-1 -n perf-ns-init-1
kubectl get deployment perf-deploy-2 -n perf-ns-init-2
kubectl apply -f - <<'EOF'
apiVersion: apps/v1
kind: Deployment
metadata:
  name: perf-deploy-7
  namespace: perf-ns-init-2
spec:
  replicas: 1
  selector:
    matchLabels:
      app: perf-deploy-7
  template:
    metadata:
      labels:
        app: perf-deploy-7
    spec:
      containers:
      - name: busybox
        image: busybox:1.36
        command: ["sleep", "7200"]
EOF
kubectl apply -f - <<'EOF'
apiVersion: apps/v1
kind: Deployment
metadata:
  name: perf-deploy-8
  namespace: perf-ns-init-3
spec:
  replicas: 1
  selector:
    matchLabels:
      app: perf-deploy-8
  template:
    metadata:
      labels:
        app: perf-deploy-8
    spec:
      containers:
      - name: busybox
        image: busybox:1.36
        command: ["sleep", "7200"]
EOF
kubectl annotate configmap perf-cm-1 -n perf-ns-init-1 perf-test/ts="6173460357351232074" --overwrite
kubectl get configmap perf-cm-3 -n perf-ns-init-3
kubectl get configmap perf-cm-4 -n perf-ns-init-3
kubectl get deployment perf-deploy-8 -n perf-ns-init-3
kubectl get namespace perf-ns-init-3
kubectl get deployment perf-deploy-4 -n perf-ns-init-3
kubectl get namespace perf-ns-init-3
kubectl get namespace perf-ns-init-2
kubectl get namespace perf-ns-init-1
kubectl get configmap perf-cm-2 -n perf-ns-init-2
kubectl get configmap perf-cm-1 -n perf-ns-init-1
kubectl annotate deployment perf-deploy-4 -n perf-ns-init-3 perf-test/ts="6140189993527090093" --overwrite
kubectl get configmap non-existing-resource-xyz -n perf-ns-init-1
kubectl get deployment perf-deploy-6 -n perf-ns-init-3
kubectl get configmap perf-cm-1 -n perf-ns-init-1
kubectl get namespace perf-ns-init-2
kubectl get namespace perf-ns-init-1
kubectl get namespace perf-ns-init-3
kubectl delete deployment perf-deploy-6 -n perf-ns-init-3 --wait=false
kubectl get namespace perf-ns-init-1
kubectl get configmap perf-cm-1 -n perf-ns-init-1
kubectl get namespace perf-ns-init-1
kubectl annotate deployment perf-deploy-5 -n perf-ns-init-2 perf-test/ts="2360253295605524234" --overwrite
kubectl get configmap perf-cm-1 -n perf-ns-init-1
kubectl get deployment perf-deploy-4 -n perf-ns-init-3
kubectl get namespace perf-ns-init-2
kubectl annotate deployment perf-deploy-8 -n perf-ns-init-3 perf-test/ts="8405056312669320498" --overwrite
kubectl get configmap non-existing-resource-xyz -n perf-ns-init-1
kubectl get deployment perf-deploy-5 -n perf-ns-init-2
kubectl get configmap non-existing-resource-xyz -n perf-ns-init-1
kubectl create configmap perf-cm-5 -n perf-ns-init-3 --from-literal=key=value
kubectl delete configmap perf-cm-3 -n perf-ns-init-3 --wait=false
kubectl get namespace perf-ns-init-3
kubectl get configmap perf-cm-5 -n perf-ns-init-3
kubectl get deployment perf-deploy-5 -n perf-ns-init-2
kubectl get configmap perf-cm-1 -n perf-ns-init-1
kubectl create configmap perf-cm-6 -n perf-ns-init-2 --from-literal=key=value
kubectl get configmap perf-cm-1 -n perf-ns-init-1
kubectl get configmap perf-cm-4 -n perf-ns-init-3
kubectl get configmap non-existing-resource-xyz -n perf-ns-init-2
kubectl get deployment perf-deploy-8 -n perf-ns-init-3
kubectl get configmap non-existing-resource-xyz -n perf-ns-init-2
kubectl delete deployment perf-deploy-7 -n perf-ns-init-2 --wait=false
kubectl create namespace perf-ns-1
kubectl get deployment perf-deploy-4 -n perf-ns-init-3
kubectl delete configmap perf-cm-4 -n perf-ns-init-3 --wait=false
kubectl get namespace perf-ns-init-3
kubectl get namespace perf-ns-init-2
kubectl annotate deployment perf-deploy-2 -n perf-ns-init-2 perf-test/ts="7078230330015347801" --overwrite
kubectl get deployment perf-deploy-2 -n perf-ns-init-2
